static void emit_log_char(char c){
 LOG_BUF(log_end) = c;
 log_end++;
 if (log_end - log_start > log_buf_len)
  log_start = log_end - log_buf_len;
 if (log_end - con_start > log_buf_len)
  con_start = log_end - log_buf_len;
 if (logged_chars < log_buf_len)
  logged_chars++;
}
